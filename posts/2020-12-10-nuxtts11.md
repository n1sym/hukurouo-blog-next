---
title: nuxt-ts day11：画像アップローダーを作ろう
date: 2020-12-10
categories: 技術
tags: [advent]
---

https://nuxt-ts-sample.netlify.app/uploader

画像アップローダーを作っている


firebase から auth, storage, firestore を用いる予定。一応自分しか使えないようにしたいので auth での認証を挟むようにしている。今日はその `firebase/auth` の整備をした。

`dotenv`をインストールしているのになぜか config が設定されず、15分くらい費やした後に `nuxt.config` でモジュール登録を忘れていたことに気づくなどした。ちゃんとドキュメントを読もう...。

firebaseプロジェクト内で複数のアプリを扱えるようなので試してみた。問題無くいけました。こりゃ便利だ。

auth のトークンを取得するまではできたけど、コード内でトークンを検証するのはよくない（コードにキーを乗せるのはまずい）ので、firestore あたりに比較用データを置いておいて、それを引っ張ってきて検証するという形になるのかな。通信分のタイムラグが生じるだろうのでloading処理とかも考える必要がありそうだ。